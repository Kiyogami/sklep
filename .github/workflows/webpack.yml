- name: Setup Node.js
  uses: actions/setup-node@v4
  with:
    node-version: 20
    cache: 'yarn'                  # cache yarn.lock
    cache-dependency-path: frontend/yarn.lock   # jeśli yarn.lock będzie

- name: Enable Corepack & Yarn version
  working-directory: frontend
  run: |
    corepack enable
    yarn set version 1.22.22   # lub yarn set version from package.json

- name: Install dependencies with Yarn
  working-directory: frontend
  run: yarn install --immutable   # --immutable = frozen lockfile, bezpieczne w CI

- name: Build frontend
  working-directory: frontend
  run: yarn build   # użyje "craco build" z package.json
